!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="../dist",i(i.s=0)}([function(t,e,i){"use strict";var s=function(t){return t&&t.__esModule?t:{default:t}}(i(1));window.Biu=s.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),o=function(t){return t&&t.__esModule?t:{default:t}}(i(2));var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.el=document.querySelector(e.el),this.container=document.createElement("div"),this.container.style.position="relative",this.container.style.overflow="hidden",this.container.style.height="100%",this.container.style.width="100%",this.el.appendChild(this.container),this.config={fontSize:"25px",opacity:1,speed:6e3,fontFamily:"SimHei"},this.bList=[],this.prepareList=[],this.progress=0,this.timer=null,this.clip=new Map,this.track={roll:new Map,top:new Map,bottom:new Map,rollTop:0,topTop:0},this.status=0,this.pausedAt=0}return n(t,[{key:"play",value:function(t){if(1!==this.status){var e=2===this.status;this.status=1;var i=this;if(e){var s=Date.now()-i.pausedAt;i.syncTrack(s),this.bList.forEach(function(t){t.resume()})}void 0!==t&&(i.progress=10*Math.round(t/10));var n=function(){i.progress%1e3==0&&i.biu(i.progress/1e3),i.progress+=10};n(),this.timer=setInterval(n,10),i.prepareList.length>0&&(i.prepareList.forEach(function(t){i.render(t)}),i.prepareList=[])}else void 0!==t&&(this.progress=10*Math.round(t/10))}},{key:"biu",value:function(t){for(var e=Date.now(),i=0;i<this.bList.length&&(1==this.bList[i].state&&e>=this.bList[i].speed+this.bList[i].startTime);++i)this.container.removeChild(this.bList[i].dom);i>0&&this.bList.splice(0,i);var s=this.clip.get(t);s&&this.render(s)}},{key:"load",value:function(t){var e=t.time,i=e%1e3;if(e=Math.floor(e/1e3),t.offset=i,this.clip.has(e)){for(var s=this.clip.get(e),n=0;n<s.length;++n)if(s[n].offset>t.offset)return void s.splice(n,0,t);s.push(t)}else this.clip.set(e,[t])}},{key:"render",value:function(t){for(var e=this,i=function(i){var n=t[i],r=function(){var t=document.createElement("div");return t.style.position="absolute",t.style.whiteSpace="pre",t.style.display="inline-block",t.style.userSelect="none",t.style.webkitUserSelect="none",t.style.pointerEvents="none",t.style.color="#fff",t.style.fontSize=this.config.fontSize,t.style.fontFamily=this.config.fontFamily,t.style.fontWeight="bold",t.style.opacity=this.config.opacity,t.style.textShadow="0 0 1px #000, 0 0 1px #000, 0 0 1px #000",t}.call(e);switch(r.innerText=n.text,n.color&&(r.style.color=n.color),"object"===s(n.style)&&Object.keys(n.style).forEach(function(t){r.style[t]=n.style[t]}),n.type){case 2:(function(t,e){var i=Date.now();t.style.left=this.container.clientWidth+1+"px",this.container.appendChild(t);var s=new o.default({cfgObj:e,dom:t,speed:this.config.speed});s.distination=(this.container.clientWidth+t.offsetWidth)/2+1;var n=i+s.speed+e.offset,r=!1,a=0,f=this.track.top;for(;a<=this.container.clientHeight-t.offsetHeight;){if(!f.has(a)||i+e.offset>f.get(a).finish){r=!0;break}a+=t.offsetHeight}r||(this.track.topTop>=this.container.clientHeight-t.offsetHeight&&(this.track.topTop=0),a=this.track.topTop,this.track.topTop+=t.offsetHeight);t.style.top=a+"px",s.startTime=i+e.offset,f.set(a,{finish:n}),this.bList.push(s),s.shot()}).call(e,r,n);break;case 1:break;default:(function(t,e){var i=Date.now();t.style.left=this.container.clientWidth+1+"px",t.style.willChange="transform",this.container.appendChild(t);var s=new o.default({cfgObj:e,dom:t,speed:this.config.speed});s.distination=this.container.clientWidth+t.offsetWidth+2;var n=s.distination/s.speed,r=i+s.speed+e.offset,a=(s.distination-t.offsetWidth-1)/n+i+e.offset,f=t.offsetWidth/n+i+e.offset,h=!1,l=0,c=this.track.roll;for(;l<=this.container.clientHeight-t.offsetHeight;){if(!c.has(l)||i+e.offset>c.get(l).appear&&c.get(l).finish<a){h=!0;break}l+=t.offsetHeight}h||(this.track.rollTop>=this.container.clientHeight-t.offsetHeight&&(this.track.rollTop=0),l=this.track.rollTop,this.track.rollTop+=t.offsetHeight);t.style.top=l+"px",s.startTime=i+e.offset,c.set(l,{appear:f,finish:r}),this.bList.push(s),s.shot()}).call(e,r,n)}},n=0;n<t.length;++n)i(n)}},{key:"shot",value:function(t){t.offset=0,1===this.status?this.render(t).shot():this.prepareList.push(t)}},{key:"pause",value:function(){2!==this.status&&(this.status=2,this.pausedAt=Date.now(),clearInterval(this.timer),this.bList.forEach(function(t){t.pause()}))}},{key:"syncTrack",value:function(t){this.track.roll.forEach(function(e){e.appear+=t,e.finish+=t}),this.track.top.forEach(function(e){e.finish+=t})}}]),t}();e.default=r},function(t,e,i){"use strict";var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}();var n=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.dom=null,this.state=0,this.cfgObj=null,this.speed=0,this.startTime=0,this.pausePos=0,this.distination=0,this.passed=0,this.offset=0;var i=this;Object.keys(e).forEach(function(t){i[t]=e[t]})}return s(t,[{key:"shot",value:function(){0==this.state&&(this.state=1,0===this.cfgObj.type?this.setTransition("transform",this.speed+"ms","linear",this.cfgObj.offset+"ms"):2===this.cfgObj.type&&(this.dom.style.transition="transform 0s linear "+this.cfgObj.offset+"ms, opacity 0s linear "+(this.speed+this.cfgObj.offset)+"ms",this.dom.style.opacity="0"),this.dom.style.transform="translateX(-"+this.distination+"px)")}},{key:"pause",value:function(){if(1==this.state){this.state=2;var t=Date.now()-this.startTime,e=0;t<0?this.offset=-t:(this.offset=0,0===this.cfgObj.type&&(e=t/this.speed*(this.distination-this.passed)),this.speed-=t),0===this.cfgObj.type?(this.passed+=e,this.setTransition("transform","0s","linear","0s"),this.dom.style.transform="translateX(-"+this.passed+"px)"):2===this.cfgObj.type&&(t<0&&(this.dom.style.transform=""),this.dom.style.transition="",this.dom.style.opacity="1")}}},{key:"resume",value:function(){2==this.state&&(this.state=1,this.startTime=Date.now()+this.offset,0===this.cfgObj.type?this.setTransition("transform",this.speed+"ms","linear",this.offset+"ms"):2===this.cfgObj.type&&(this.dom.style.transition="transform 0s linear "+this.offset+"ms, opacity 0s linear "+(this.speed+this.offset)+"ms",this.dom.style.opacity="0"),this.dom.style.transform="translateX(-"+this.distination+"px)")}},{key:"setTransition",value:function(t,e,i,s){this.dom.style.transition=[t,e,i,s].join(" ")}},{key:"setTextShadow",value:function(){this.dom.style.textShadow="0 0 1px #000, 0 0 1px #000, 0 0 1px #000"}}]),t}();t.exports=n}]);